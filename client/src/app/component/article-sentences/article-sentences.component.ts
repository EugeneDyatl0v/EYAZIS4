import {Component, Input, OnInit} from '@angular/core';
import {
    MatAccordion,
    MatExpansionPanel,
    MatExpansionPanelDescription,
    MatExpansionPanelHeader,
    MatExpansionPanelTitle
} from "@angular/material/expansion";
import {
    MatCell,
    MatCellDef,
    MatColumnDef,
    MatHeaderCell, MatHeaderCellDef,
    MatHeaderRow,
    MatHeaderRowDef,
    MatRow,
    MatRowDef,
    MatTable
} from "@angular/material/table";
import {ImageOutSchema, Sentence} from "../../model/Sentence";
import {NgForOf} from "@angular/common";
import {DomSanitizer} from "@angular/platform-browser";

@Component({
    selector: 'app-article-sentences',
    imports: [
        MatCell,
        MatCellDef,
        MatColumnDef,
        MatHeaderCell,
        MatHeaderRow,
        MatHeaderRowDef,
        MatRow,
        MatRowDef,
        MatTable,
        MatHeaderCellDef,
        MatExpansionPanelDescription,
        MatExpansionPanelTitle,
        MatExpansionPanelHeader,
        MatExpansionPanel,
        MatAccordion,
        NgForOf
    ],
    templateUrl: './article-sentences.component.html',
    standalone: true,
    styleUrl: './article-sentences.component.css'
})
export class ArticleSentencesComponent implements OnInit{
    @Input() data!: any;
    dataSource: Sentence[] = [
        {
            value: 'This is the first sentence.',
            image: {
                content: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:lang="ru" id="4e2011a2680c417b984be28780eac3e6-0" class="displacy" width="3050" height="437.0" direction="ltr" style="max-width: none; height: 437.0px; color: #000000; background: #ffffff; font-family: Arial; direction: ltr"><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="50">Невозможно</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="50">ADJ</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="200">представить</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="200">VERB</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="350">нашу</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="350">DET</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="500">цивилизацию</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="500">NOUN</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="650">без</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="650">ADP</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="800">электричества:</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="800">NOUN</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="950">экономический</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="950">ADJ</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="1100">и</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="1100">CCONJ</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="1250">социальный</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="1250">ADJ</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="1400">прогресс</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="1400">NOUN</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="1550">будет</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="1550">AUX</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="1700">превращен</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="1700">VERB</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="1850">в</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="1850">ADP</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="2000">прошлое,</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="2000">NOUN</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="2150">и</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="2150">CCONJ</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="2300">наша</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="2300">DET</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="2450">повседневная</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="2450">ADJ</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="2600">жизнь</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="2600">NOUN</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="2750">полностью</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="2750">ADV</tspan></text><text class="displacy-token" fill="currentColor" text-anchor="middle" y="347.0">    <tspan class="displacy-word" fill="currentColor" x="2900">преобразована.</tspan>    <tspan class="displacy-tag" dy="2em" fill="currentColor" x="2900">VERB</tspan></text><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-0" stroke-width="2px" d="M62,302.0 62,277.0 191.0,277.0 191.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-0" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">csubj</textPath>    </text>    <path class="displacy-arrowhead" d="M191.0,304.0 L195.0,296.0 187.0,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-1" stroke-width="2px" d="M362,302.0 362,277.0 491.0,277.0 491.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-1" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">det</textPath>    </text>    <path class="displacy-arrowhead" d="M362,304.0 L358,296.0 366,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-2" stroke-width="2px" d="M212,302.0 212,252.0 494.0,252.0 494.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-2" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">obj</textPath>    </text>    <path class="displacy-arrowhead" d="M494.0,304.0 L498.0,296.0 490.0,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-3" stroke-width="2px" d="M662,302.0 662,277.0 791.0,277.0 791.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-3" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">case</textPath>    </text>    <path class="displacy-arrowhead" d="M662,304.0 L658,296.0 666,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-4" stroke-width="2px" d="M212,302.0 212,227.0 797.0,227.0 797.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-4" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">obl</textPath>    </text>    <path class="displacy-arrowhead" d="M797.0,304.0 L801.0,296.0 793.0,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-5" stroke-width="2px" d="M962,302.0 962,227.0 1397.0,227.0 1397.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-5" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">amod</textPath>    </text>    <path class="displacy-arrowhead" d="M962,304.0 L958,296.0 966,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-6" stroke-width="2px" d="M1112,302.0 1112,277.0 1241.0,277.0 1241.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-6" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">cc</textPath>    </text>    <path class="displacy-arrowhead" d="M1112,304.0 L1108,296.0 1116,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-7" stroke-width="2px" d="M962,302.0 962,252.0 1244.0,252.0 1244.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-7" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">conj</textPath>    </text>    <path class="displacy-arrowhead" d="M1244.0,304.0 L1248.0,296.0 1240.0,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-8" stroke-width="2px" d="M1412,302.0 1412,252.0 1694.0,252.0 1694.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-8" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">nsubj:pass</textPath>    </text>    <path class="displacy-arrowhead" d="M1412,304.0 L1408,296.0 1416,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-9" stroke-width="2px" d="M1562,302.0 1562,277.0 1691.0,277.0 1691.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-9" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">aux:pass</textPath>    </text>    <path class="displacy-arrowhead" d="M1562,304.0 L1558,296.0 1566,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-10" stroke-width="2px" d="M62,302.0 62,202.0 1700.0,202.0 1700.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-10" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">parataxis</textPath>    </text>    <path class="displacy-arrowhead" d="M1700.0,304.0 L1704.0,296.0 1696.0,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-11" stroke-width="2px" d="M1862,302.0 1862,277.0 1991.0,277.0 1991.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-11" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">case</textPath>    </text>    <path class="displacy-arrowhead" d="M1862,304.0 L1858,296.0 1866,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-12" stroke-width="2px" d="M1712,302.0 1712,252.0 1994.0,252.0 1994.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-12" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">obl</textPath>    </text>    <path class="displacy-arrowhead" d="M1994.0,304.0 L1998.0,296.0 1990.0,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-13" stroke-width="2px" d="M2162,302.0 2162,227.0 2897.0,227.0 2897.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-13" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">cc</textPath>    </text>    <path class="displacy-arrowhead" d="M2162,304.0 L2158,296.0 2166,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-14" stroke-width="2px" d="M2312,302.0 2312,252.0 2594.0,252.0 2594.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-14" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">det</textPath>    </text>    <path class="displacy-arrowhead" d="M2312,304.0 L2308,296.0 2316,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-15" stroke-width="2px" d="M2462,302.0 2462,277.0 2591.0,277.0 2591.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-15" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">amod</textPath>    </text>    <path class="displacy-arrowhead" d="M2462,304.0 L2458,296.0 2466,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-16" stroke-width="2px" d="M2612,302.0 2612,252.0 2894.0,252.0 2894.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-16" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">nsubj:pass</textPath>    </text>    <path class="displacy-arrowhead" d="M2612,304.0 L2608,296.0 2616,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-17" stroke-width="2px" d="M2762,302.0 2762,277.0 2891.0,277.0 2891.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-17" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">advmod</textPath>    </text>    <path class="displacy-arrowhead" d="M2762,304.0 L2758,296.0 2766,296.0" fill="currentColor"/></g><g class="displacy-arrow">    <path class="displacy-arc" id="arrow-4e2011a2680c417b984be28780eac3e6-0-18" stroke-width="2px" d="M1712,302.0 1712,202.0 2900.0,202.0 2900.0,302.0" fill="none" stroke="currentColor"/>    <text dy="1.25em" style="font-size: 0.8em; letter-spacing: 1px">        <textPath xlink:href="#arrow-4e2011a2680c417b984be28780eac3e6-0-18" class="displacy-label" startOffset="50%" side="left" fill="currentColor" text-anchor="middle">conj</textPath>    </text>    <path class="displacy-arrowhead" d="M2900.0,304.0 L2904.0,296.0 2896.0,296.0" fill="currentColor"/></g></svg>',
                extension: 'svg'
            }
        },
        {
            value: 'Here is another example sentence.',
            image: {
                content: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAAAAAAAD...',
                extension: 'jpeg'
            }
        },
        {
            value: 'This is a third example sentence.',
            image: {
                content: 'data:image/gif;base64,R0lGODlhEAAQAMQAAORk5C4aG...',
                extension: 'gif'
            }
        }
    ];


    constructor(private sanitizer: DomSanitizer) {}

    ngOnInit(): void {
    }

    getImage(image: ImageOutSchema) {
        return this.sanitizer.bypassSecurityTrustHtml(image.content);
    }
}
